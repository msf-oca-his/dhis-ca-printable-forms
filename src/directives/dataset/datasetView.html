<link href="css/dataset.css" rel="stylesheet" type="text/css">
<span ng-controller="datasetCtrl">
<div class="datasetName">{{datasetName}}</div>
    <table class="header">
    <tr>
        <td class="headerLabel">
            Org Structure
        </td>

        <td class="headerField"></td>
        <td class="seperator"></td>
        <td class="headerLabel">
            Supervisor
        </td>

        <td class="headerField"></td>
        <td class="seperator"></td>
        <td class="headerLabel">
            Period
        </td>

        <td class="headerField"></td>
    </tr>
    </table>

<div ng-repeat="content in contents">

    <div ng-if="content.type == 'section' && content.section.isCatComb " class="section">
        <h4 class="sectionName" ng-if="!content.section.isDuplicate">{{content.section.name}}</h4>
        <table border="1" style="width:{{getTableWidth(content.section)}};table-layout: fixed;">
            <thead>
            <tr>
                <td></td>
                   <td class="table-heading"
                       ng-repeat="categoryOptionCombos in content.section.dataElements[0].categoryCombo.categoryOptionCombos"
                       ng-bind-html="categoryOptionCombos | to_trusted_html">
                </td>
            </tr>
            </thead>
            <tr ng-repeat="dataElement in content.section.dataElements">

                <td class="deLabel catComb">
                    {{dataElement.name}}
                </td>
                <td class="deFieldCatComb"
                    ng-repeat="catComb in content.section.dataElements[0].categoryCombo.categoryOptionCombos">
                </td>
            </tr>
        </table>
    </div>

    <div class="section" ng-if="content.type=='section' && content.section.isOptionSet">
        <div class="hidden" ng-if="content.section.dataElements[0].displayOption == displayOptions.none">
            {{content.section.dataElements[0]}}
        </div>
        <div  ng-if="content.section.dataElements[0].displayOption == displayOptions.text">
            <h4 class="sectionName" ng-if="!content.section.isDuplicate">{{content.section.name}}</h4>
            <text-field content="content"></text-field>
        </div>

        <div  ng-if="content.section.dataElements[0].displayOption == displayOptions.list || !content.section.dataElements[0].displayOption">
            <h4 class="sectionName" ng-if="!content.section.isDuplicate">{{content.section.name}}</h4>
            <list dataelement="content.section.dataElements[0]"></list>
        </div>
    </div>

    <div class="section" ng-if="content.type=='section' && !content.section.isCatComb && !content.section.isOptionSet">
        <text-field content="content"></text-field>
    </div>

    </div>
 </div>
</span>